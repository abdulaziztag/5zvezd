"use strict";(self.webpackChunk_5zvezd=self.webpackChunk_5zvezd||[]).push([[19],{8019:(G,O,a)=>{a.r(O),a.d(O,{AuthModule:()=>V});var p=a(6895),u=a(3060),i=a(4006),t=a(4650),Z=a(529);const g=a(2340).N.host+"auth/",f={headers:new Z.WM({"Content-Type":"application/json"})};let _=(()=>{class e{constructor(n){this.http=n}login(n,r){return this.http.post(g+"login",{email:n,password:r},f)}register(n,r,s,l){return this.http.post(g+"register",{firstName:n,lastName:l,password:s,email:r},f)}confirmEmail(n){return this.http.post(g+"confirmation",{confirmationCode:n},f)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(Z.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=a(704),C=a(7087),A=a(9760),d=a(9549),b=a(284),c=a(3546),v=a(4859),P=a(7392),y=a(1572);function x(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij(" ",n.email.hasError("required")?"You must enter a value":"Not a valid email"," ")}}function q(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Enter at least 6 characters!"),t.qZA())}function T(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Login"),t.qZA())}function S(e,o){1&e&&t._UZ(0,"mat-spinner",16)}let L=(()=>{class e{constructor(n,r,s,l,m){this.authService=n,this.alertService=r,this.loaderService=s,this.tokenStorage=l,this.router=m,this.email=new i.NI("",[i.kI.required,i.kI.email]),this.password=new i.NI("",[i.kI.required,i.kI.minLength(6)])}login(){this.loaderService.setLoader(!0),this.subscription=this.authService.login(this.email.value,this.password.value).subscribe(n=>{this.loaderService.setLoader(!1),this.tokenStorage.saveToken(n.token),this.tokenStorage.saveUser({firstName:n.firstName,lastName:n.lastName,email:n.email,userId:n.userId,img:n.img}),this.router.navigate(["/"])},n=>{this.alertService.openSnackBar(n.error.message||"Something went wrong, try again later","error"),this.loaderService.setLoader(!1)})}isDisabled(){return this.email.hasError("required")||this.email.hasError("email")||this.password.hasError("required")||this.password.hasError("minlength")}ngOnDestroy(){this.subscription?.unsubscribe()}ngOnInit(){this.loaderService.setLoader(!1)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_),t.Y36(h.c),t.Y36(C.D),t.Y36(A.i),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:32,vars:14,consts:[[1,"container"],[1,"container__content"],[1,"container__content__card"],[1,"container__form"],[1,"container__form__card"],[1,"container__form__card__title"],["appearance","outline",1,"text-field"],["matInput","",3,"formControl"],[4,"ngIf"],["matInput","","type","password",3,"formControl"],["passwordType",""],["matSuffix","","mat-icon-button","",3,"click"],[1,"container__form__card__actions"],["mat-raised-button","","color","primary",1,"action-button",3,"disabled","click"],["style","margin: 0 auto","strokeWidth","2","diameter","25","color","secondary",4,"ngIf"],["mat-stroked-button","","color","primary","routerLink","/auth/registration",1,"action-button"],["strokeWidth","2","diameter","25","color","secondary",2,"margin","0 auto"]],template:function(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2),t._uU(3," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aperiam aspernatur atque blanditiis consequatur, deleniti deserunt dignissimos dolorem esse explicabo iste iure laborum libero, magnam minus nobis odio omnis perspiciatis provident quaerat quis quisquam, quod repellat rerum sapiente sed tempora vero. Cum ducimus earum eveniet inventore iusto veritatis? Aperiam atque dolorem eius et facilis ipsa, laboriosam laborum, neque nobis placeat quos repellat soluta, unde velit veritatis. Blanditiis corporis dolorum et odit omnis perferendis voluptates? Ab aspernatur ea et explicabo, facilis in ipsam nobis perferendis possimus quia? Alias asperiores autem cupiditate, dicta doloremque eaque iste omnis optio tempore ullam ut voluptatum? "),t.qZA()(),t.TgZ(4,"div",3)(5,"mat-card",4)(6,"mat-card-title",5),t._uU(7," Sign-In "),t.qZA(),t.TgZ(8,"mat-card-content")(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Email"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,x,2,1,"mat-error",8),t.qZA(),t.TgZ(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Password"),t.qZA(),t._UZ(17,"input",9,10),t.YNc(19,q,2,0,"mat-error",8),t.TgZ(20,"button",11),t.NdJ("click",function(){t.CHM(s);const m=t.MAs(18);return t.KtG(m.type="text"===m.type?"password":"")}),t.TgZ(21,"mat-icon"),t._uU(22),t.qZA()()()(),t.TgZ(23,"mat-card-actions",12)(24,"button",13),t.NdJ("click",function(){return r.login()}),t.ALo(25,"async"),t.YNc(26,T,2,0,"span",8),t.ALo(27,"async"),t.YNc(28,S,1,0,"mat-spinner",14),t.ALo(29,"async"),t.qZA(),t.TgZ(30,"button",15),t._uU(31,"Register"),t.qZA()()()()()}if(2&n){const s=t.MAs(18);t.xp6(12),t.Q6J("formControl",r.email),t.xp6(1),t.Q6J("ngIf",r.email.hasError("required")||r.email.hasError("email")),t.xp6(4),t.Q6J("formControl",r.password),t.xp6(2),t.Q6J("ngIf",r.password.invalid),t.xp6(3),t.Oqu("text"===s.type?"visibility_off":"visibility"),t.xp6(2),t.Q6J("disabled",r.isDisabled()||t.lcZ(25,8,r.loaderService.getLoader())),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(27,10,r.loaderService.getLoader())),t.xp6(2),t.Q6J("ngIf",t.lcZ(29,12,r.loaderService.getLoader()))}},dependencies:[p.O5,u.rH,i.Fj,i.JJ,d.TO,d.KE,d.hX,d.R9,b.Nt,c.a8,c.dn,c.n5,c.hq,v.lW,P.Hw,y.Ou,i.oH,p.Ov],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:row;flex-wrap:wrap}[_nghost-%COMP%]   .container__content[_ngcontent-%COMP%]{display:flex;width:65%;justify-content:center}[_nghost-%COMP%]   .container__content__card[_ngcontent-%COMP%]{width:90%;min-height:300px;align-self:center}[_nghost-%COMP%]   .container__form[_ngcontent-%COMP%]{width:35%;display:flex;justify-content:center}[_nghost-%COMP%]   .container__form__card[_ngcontent-%COMP%]{width:85%;min-height:300px;display:flex;flex-direction:column;justify-content:space-between}[_nghost-%COMP%]   .container__form__card__title[_ngcontent-%COMP%]{color:#673ab7;padding:10px 0}[_nghost-%COMP%]   .container__form__card__title[_ngcontent-%COMP%]:before{content:"";left:0;top:18px;height:40px;border-left:5px solid #673ab7;position:absolute}[_nghost-%COMP%]   .container__form__card__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}[_nghost-%COMP%]   .action-button[_ngcontent-%COMP%]{width:50%}[_nghost-%COMP%]   .text-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 950px){[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:column-reverse}[_nghost-%COMP%]   .container__form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .container__form__card[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .container__content[_ngcontent-%COMP%]{display:none}}'],changeDetection:0}),e})();var N=a(7579),M=a(2722);function I(e,o){1&e&&t._UZ(0,"mat-spinner")}function U(e,o){1&e&&(t.TgZ(0,"mat-card",3),t._UZ(1,"img",4),t.TgZ(2,"mat-card-title"),t._uU(3," Confirmation done "),t.qZA(),t.TgZ(4,"mat-card-content"),t._uU(5," Congratulations, your account successfully confirmed! Please login by clicking button below "),t.qZA(),t.TgZ(6,"mat-card-actions",5)(7,"button",6),t._uU(8,"Login"),t.qZA()()())}let F=(()=>{class e{constructor(n,r,s,l){this.route=n,this.authService=r,this.alertService=s,this.loaderService=l,this.notifier=new N.x,this.code=""}ngOnInit(){this.loaderService.setLoader(!0),this.route.params.pipe((0,M.R)(this.notifier)).subscribe(n=>{this.code=n.code}),this.authService.confirmEmail(this.code).pipe((0,M.R)(this.notifier)).subscribe(()=>{this.loaderService.setLoader(!1)},n=>{this.alertService.openSnackBar(n.error.message||"Something went wrong, please refresh the page","error",6e5)})}ngOnDestroy(){this.notifier.next(),this.notifier.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.gz),t.Y36(_),t.Y36(h.c),t.Y36(C.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-confirmation"]],decls:5,vars:6,consts:[[1,"container"],[4,"ngIf"],["class","container__card",4,"ngIf"],[1,"container__card"],["src","https://icons-for-free.com/download-icon-check+checkbox+checkmark+confirm+success+yes+icon-1320196711226060446_512.png","alt","confirm",1,"container__card__image"],[1,"container__card__actions"],["mat-raised-button","","routerLink","/auth/login"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t.YNc(1,I,1,0,"mat-spinner",1),t.ALo(2,"async"),t.YNc(3,U,9,0,"mat-card",2),t.ALo(4,"async"),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",!0===t.lcZ(2,2,r.loaderService.getLoader())),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(4,4,r.loaderService.getLoader())))},dependencies:[p.O5,u.rH,c.a8,c.dn,c.n5,c.hq,v.lW,y.Ou,p.Ov],styles:["[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}[_nghost-%COMP%]   .container__card[_ngcontent-%COMP%]{background-color:#459f48;color:#fff;display:flex;flex-direction:column}[_nghost-%COMP%]   .container__card__image[_ngcontent-%COMP%]{margin:30px;width:150px;align-self:center}[_nghost-%COMP%]   .container__card__actions[_ngcontent-%COMP%]{justify-content:flex-end;display:flex}"],changeDetection:0}),e})();var k=a(6322);function Y(e,o){return n=>{const s=n.controls[o];s.errors&&!s.errors.confirmedValidator||s.setErrors(n.controls[e].value!==s.value?{confirmedValidator:!0}:null)}}function J(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required "),t.qZA())}function R(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Email can not be empty "),t.qZA())}function E(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Enter valid email "),t.qZA())}function Q(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Password can not be empty "),t.qZA())}function j(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Password must be greater than 6 "),t.qZA())}function D(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Passwords must be match "),t.qZA())}function B(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Registration"),t.qZA())}function z(e,o){1&e&&t._UZ(0,"mat-spinner",22)}const H=[{path:"login",title:"Sign In",component:L},{path:"confirmation/:code",title:"Confirmation",component:F},{path:"registration",title:"Sign Up",component:(()=>{class e{constructor(n,r,s,l,m){this.fb=n,this.loaderService=r,this.alertService=s,this.authService=l,this.router=m,this.form=new i.cw({}),this.form=n.group({firstName:["",[i.kI.required]],lastName:"",email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,i.kI.minLength(6)]],confirmPassword:""},{validator:Y("password","confirmPassword")})}get regForm(){return this.form.controls}isDisabled(){return this.regForm.firstName?.errors?.required||this.regForm.confirmPassword?.errors?.confirmedValidator||this.regForm.password?.errors?.required||this.regForm.password?.errors?.minlength||this.regForm.email?.errors?.required||this.regForm.email?.errors?.email}registration(){this.loaderService.setLoader(!0),this.subscription=this.authService.register(this.regForm.firstName.value,this.regForm.email.value,this.regForm.password.value,this.regForm.lastName.value).subscribe(n=>{this.alertService.openSnackBar(n.message),this.loaderService.setLoader(!1),this.router.navigate(["/"])},n=>{this.alertService.openSnackBar(n.error.message||"Something went wrong, try again later","error"),this.loaderService.setLoader(!1)})}ngOnInit(){this.loaderService.setLoader(!1)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(C.D),t.Y36(h.c),t.Y36(_),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-registration"]],decls:51,vars:17,consts:[[1,"container"],[1,"container__content"],[1,"container__content__card"],[1,"container__form"],[1,"container__form__card"],[1,"container__form__card__title"],[3,"formGroup"],[1,"name-container"],["appearance","outline",1,"text-field-name"],["matInput","","formControlName","firstName"],[4,"ngIf"],["matInput","","formControlName","lastName"],["appearance","outline",1,"text-field"],["matInput","","formControlName","email"],["matInput","","formControlName","password","type","password"],["passwordType",""],["matSuffix","","mat-icon-button","",3,"click"],["matInput","","formControlName","confirmPassword","type","password"],[1,"container__form__card__actions"],["mat-raised-button","","color","primary",1,"action-button",3,"disabled","click"],["style","margin: 0 auto","strokeWidth","2","diameter","25","color","secondary",4,"ngIf"],["mat-stroked-button","","color","primary","routerLink","/auth/login",1,"action-button"],["strokeWidth","2","diameter","25","color","secondary",2,"margin","0 auto"]],template:function(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2),t._uU(3," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aperiam aspernatur atque blanditiis consequatur, deleniti deserunt dignissimos dolorem esse explicabo iste iure laborum libero, magnam minus nobis odio omnis perspiciatis provident quaerat quis quisquam, quod repellat rerum sapiente sed tempora vero. Cum ducimus earum eveniet inventore iusto veritatis? Aperiam atque dolorem eius et facilis ipsa, laboriosam laborum, neque nobis placeat quos repellat soluta, unde velit veritatis. Blanditiis corporis dolorum et odit omnis perferendis voluptates? Ab aspernatur ea et explicabo, facilis in ipsam nobis perferendis possimus quia? Alias asperiores autem cupiditate, dicta doloremque eaque iste omnis optio tempore ullam ut voluptatum? "),t.qZA()(),t.TgZ(4,"div",3)(5,"mat-card",4)(6,"mat-card-title",5),t._uU(7," Sign-Up "),t.qZA(),t.TgZ(8,"mat-card-content")(9,"form",6)(10,"div",7)(11,"mat-form-field",8)(12,"mat-label"),t._uU(13,"First Name"),t.qZA(),t._UZ(14,"input",9),t.YNc(15,J,2,0,"mat-error",10),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Last Name"),t.qZA(),t._UZ(19,"input",11),t.qZA()(),t.TgZ(20,"mat-form-field",12)(21,"mat-label"),t._uU(22,"Email"),t.qZA(),t._UZ(23,"input",13),t.YNc(24,R,2,0,"mat-error",10),t.YNc(25,E,2,0,"mat-error",10),t.qZA(),t.TgZ(26,"mat-form-field",12)(27,"mat-label"),t._uU(28,"Password"),t.qZA(),t._UZ(29,"input",14,15),t.YNc(31,Q,2,0,"mat-error",10),t.YNc(32,j,2,0,"mat-error",10),t.TgZ(33,"button",16),t.NdJ("click",function(){t.CHM(s);const m=t.MAs(30);return t.KtG(m.type="text"===m.type?"password":"")}),t.TgZ(34,"mat-icon"),t._uU(35),t.qZA()()(),t.TgZ(36,"mat-form-field",12)(37,"mat-label"),t._uU(38,"Confirm password"),t.qZA(),t._UZ(39,"input",17,15),t.YNc(41,D,2,0,"mat-error",10),t.qZA()()(),t.TgZ(42,"mat-card-actions",18)(43,"button",19),t.NdJ("click",function(){return r.registration()}),t.ALo(44,"async"),t.YNc(45,B,2,0,"span",10),t.ALo(46,"async"),t.YNc(47,z,1,0,"mat-spinner",20),t.ALo(48,"async"),t.qZA(),t.TgZ(49,"button",21),t._uU(50,"Login"),t.qZA()()()()()}if(2&n){const s=t.MAs(30);t.xp6(9),t.Q6J("formGroup",r.form),t.xp6(6),t.Q6J("ngIf",null==r.regForm.firstName||null==r.regForm.firstName.errors?null:r.regForm.firstName.errors.required),t.xp6(9),t.Q6J("ngIf",null==r.regForm.email||null==r.regForm.email.errors?null:r.regForm.email.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.regForm.email||null==r.regForm.email.errors?null:r.regForm.email.errors.email),t.xp6(6),t.Q6J("ngIf",null==r.regForm.password||null==r.regForm.password.errors?null:r.regForm.password.errors.required),t.xp6(1),t.Q6J("ngIf",null==r.regForm.password||null==r.regForm.password.errors?null:r.regForm.password.errors.minlength),t.xp6(3),t.Oqu("text"===s.type?"visibility_off":"visibility"),t.xp6(6),t.Q6J("ngIf",null==r.regForm.confirmPassword||null==r.regForm.confirmPassword.errors?null:r.regForm.confirmPassword.errors.confirmedValidator),t.xp6(2),t.Q6J("disabled",r.isDisabled()||t.lcZ(44,11,r.loaderService.getLoader())),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(46,13,r.loaderService.getLoader())),t.xp6(2),t.Q6J("ngIf",t.lcZ(48,15,r.loaderService.getLoader()))}},dependencies:[p.O5,u.rH,i._Y,i.Fj,i.JJ,i.JL,d.TO,d.KE,d.hX,d.R9,b.Nt,c.a8,c.dn,c.n5,c.hq,v.lW,P.Hw,y.Ou,i.sg,i.u,p.Ov],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:row;flex-wrap:wrap}[_nghost-%COMP%]   .container__content[_ngcontent-%COMP%]{display:flex;width:65%;justify-content:center}[_nghost-%COMP%]   .container__content__card[_ngcontent-%COMP%]{width:90%;min-height:300px;align-self:center}[_nghost-%COMP%]   .container__form[_ngcontent-%COMP%]{width:35%;display:flex;justify-content:center}[_nghost-%COMP%]   .container__form__card[_ngcontent-%COMP%]{width:85%;min-height:300px;display:flex;flex-direction:column}[_nghost-%COMP%]   .container__form__card__title[_ngcontent-%COMP%]{color:#673ab7;padding:10px 0}[_nghost-%COMP%]   .container__form__card__title[_ngcontent-%COMP%]:before{content:"";left:0;top:18px;height:40px;border-left:5px solid #673ab7;position:absolute}[_nghost-%COMP%]   .container__form__card__actions[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .action-button[_ngcontent-%COMP%]{width:50%}[_nghost-%COMP%]   .text-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .text-field-name[_ngcontent-%COMP%]{width:calc(50% - 10px)}[_nghost-%COMP%]   .name-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 950px){[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:column-reverse}[_nghost-%COMP%]   .container__form[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .container__form__card[_ngcontent-%COMP%]{width:80%}[_nghost-%COMP%]   .container__content[_ngcontent-%COMP%]{display:none}}'],changeDetection:0}),e})()},{path:"**",title:"Not found",component:k.f}];let W=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(H),u.Bz]}),e})();var X=a(7251);let V=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[],imports:[p.ez,W,X.m,i.UX]}),e})()}}]);